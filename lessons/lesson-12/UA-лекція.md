## **Урок 12: Файли конфігурації Cypress та змінні середовища**

### **Мета**

- Зрозуміти структуру та роль файлів конфігурації Cypress.
- Навчитися встановлювати глобальні налаштування (наприклад, baseUrl, параметри viewport) за допомогою `cypress.config.js`.
- Налаштовувати поведінку Cypress через використання конфігураційних параметрів.
- Використовувати змінні середовища для управління конфіденційними даними та перемикання між різними середовищами (розробка, staging, продакшн).
- Отримувати доступ до змінних середовища у тестах за допомогою `Cypress.env()`.
- Реалізувати найкращі практики для впорядкування, зручності підтримки та захисту конфігурацій.

---

### **Огляд матеріалу**

#### **A. Файли конфігурації Cypress**

1. **Огляд cypress.config.js:**
   - **Визначення:**  
     Файл `cypress.config.js` (або `cypress.config.ts`, якщо використовується TypeScript) — основне місце для визначення глобальних налаштувань Cypress-тестів. У нових версіях він заміняє старий формат `cypress.json`.
   - **Призначення:**  
     - Конфігурувати роботу Cypress, включаючи встановлення глобальних значень за замовчуванням.
     - Визначати властивості, такі як `baseUrl`, розміри viewport, таймаути тощо.
   - **Структура:**  
     Зазвичай експортує об’єкт конфігурації. Наприклад:
     ```javascript
     const { defineConfig } = require('cypress');

     module.exports = defineConfig({
       e2e: {
         baseUrl: 'http://localhost:3000',
         viewportWidth: 1280,
         viewportHeight: 720,
         defaultCommandTimeout: 8000,
         supportFile: 'cypress/support/index.js',
         // Більше налаштувань...
       },
       env: {
         // Змінні середовища також можна задавати тут
         apiUrl: 'https://api.example.com'
       }
     });
     ```

2. **Встановлення глобальних налаштувань:**
   - **baseUrl:**  
     - Встановлює кореневий URL, щоб у тестах можна було використовувати відносні шляхи.
    `baseUrl` — це глобальне налаштування Cypress, що визначає базову адресу вашого застосунку. Це значення використовується як основа для всіх відносних посилань у тестах.

    **Мета та переваги:**
    - **Спрощує навігацію:**  
      Замість повної адреси для кожного виклику `cy.visit()` можна використовувати відносний шлях. Наприклад, якщо `baseUrl` — `http://localhost:3000`, то `cy.visit('/login')` автоматично підставить `http://localhost:3000/login`.
    - **Легке перемикання середовищ:**  
      Централізований URL дозволяє швидко переключатися між development, staging та production без зміни кожного тесту.
    - **Чистий код тестів:**  
      Зменшується повторення і ризик помилок завдяки одному джерелу істини для базового URL застосунку.

    **Приклад:**
    ```javascript
    // cypress.config.js
    const { defineConfig } = require('cypress');

    module.exports = defineConfig({
      e2e: {
        baseUrl: 'http://localhost:3000',
        // ...інші налаштування
      }
    });
    ```
   - **Viewport:**
     - Визначає розміри вікна браузеру під час виконання тестів.
     - **Приклад:**  
       ```javascript
       viewportWidth: 1280,
       viewportHeight: 720
       ```
   - **Таймаути:**
     - Налаштування таймаутів команд, відповіді та інших параметрів, пов’язаних з часом.
     - **Приклад:**  
       ```javascript
       defaultCommandTimeout: 8000,
       pageLoadTimeout: 60000
       ```
   - **Властивість watchForFileChanges**

      **Визначення:**  
      `watchForFileChanges` — це налаштування, яке вказує Cypress стежити за змінами у файлах проекту та автоматично перезапускати тести при їх виявленні.

      **Мета та переваги:**
      - **Ефективність розробки:**  
        Прискорює розробку шляхом автоматичного повторного запуску тестів після зміни коду або тестів.
      - **Автоматичне оновлення:**  
        Робить Test Runner більш інтерактивним і чутливим до змін коду тестів.

      **Приклад використання:**
      ```javascript
      module.exports = defineConfig({
        e2e: {
          watchForFileChanges: true, // Автоматичний перезапуск тестів при зміні файлів
          // ...інші налаштування
        }
      });
      ```

      *Примітка:* У CI-середовищах варто встановити `watchForFileChanges` у `false`, щоб уникнути зайвих повторних запусків.

   - **Властивість retries**
     Властивість `retries` вказує, скільки разів Cypress автоматично повторить невдалий тест, перш ніж вважати його остаточно проваленим. Це можна налаштувати глобально або для кожного тесту окремо.

     **Мета та переваги:**
     - **Обробка нестабільних тестів:**  
       Допомагає уникати проблем із асинхронністю чи таймінгом, особливо в складних або нестабільних середовищах.
     - **Підвищення надійності тестів:**  
       Повторне виконання зменшує число помилкових негативних результатів через транзієнтні збої.

     **Приклад використання:**
     ```javascript
     module.exports = defineConfig({
       e2e: {
         retries: {
           runMode: 2,  // Кількість повторів у headless-режимі (CI)
           openMode: 0  // Без повторів у інтерактивному режимі
         },
         // ...інші налаштування
       }
     });
     ```

     У окремому файлі тесту можна задати свої retries:
     ```javascript
     describe('Login Tests', { retries: { runMode: 2, openMode: 1 } }, () => {
       it('should log in successfully with valid credentials', () => {
         // Код тесту...
       });
     });
     ```
   - **Інші глобальні налаштування:**
     - `video`, `screenshotOnRunFailure` тощо — для контролю процесу запису під час тестів.
     - Вказівка файлу `supportFile` для глобальних налаштувань та кастомних команд.

3. **Налаштування поведінки Cypress через конфіг. файли:**
   - Можна змінити або розширити поведінку Cypress через плагіни та додаткові налаштування.
   - Використовуйте папку `plugins` разом із `cypress.config.js` для розширення можливостей.
   - **Приклад:**  
     Інтеграція плагіна, який змінює мережеву поведінку або обробляє завантаження файлів.

4. **"e2e": {} і "env": {}**

   **Секція `"e2e": {}`:**
   - **Мета:**  
     Секція `"e2e"` у конфігурації Cypress використовується для визначення налаштувань і поведінки, специфічних для end-to-end (E2E) тестів. Містить такі властивості, як `baseUrl`, розміри viewport, стандартні таймаути та хук для налаштування node-подій.
   - **Застосування:**  
     Тут містяться всі параметри, які регулюють, як Cypress виконуватиме ваші E2E тести.
     
   **Приклад:**
   ```javascript
   module.exports = defineConfig({
     e2e: {
       baseUrl: 'http://localhost:3000',
       viewportWidth: 1280,
       viewportHeight: 720,
       defaultCommandTimeout: 8000,
       setupNodeEvents(on, config) {
         // Сюди додавайте кастомні таски та плагіни
         return config;
       }
     }
   });
   ```
 
   **Секція `"env": {}`:**
   - **Мета:**  
     Властивість `"env"` використовується для визначення змінних середовища, доступних під час виконання тестів. Ці змінні допомагають управляти конфіденційними даними (як-от API-ключі) та параметрами, які можуть відрізнятися в різних середовищах (розробка, staging, production).
   - **Застосування:**  
     Отримуйте змінні середовища в тестах за допомогою `Cypress.env('variableName')`.
     
   **Приклад:**
   ```javascript
   module.exports = defineConfig({
     e2e: {
       baseUrl: 'http://localhost:3000'
     },
     env: {
       apiUrl: 'https://api.dev.example.com',
       userRole: 'admin'
     }
   });
   ```
 
   У тесті:
   ```javascript
   describe('API Tests', () => {
     it('should fetch data from the correct API endpoint', () => {
       const apiUrl = Cypress.env('apiUrl');
       cy.request(`${apiUrl}/users`).then((response) => {
         expect(response.status).to.eq(200);
       });
     });
   });
   ```

---

#### **B. Змінні середовища в Cypress**

1. **Використання змінних середовища для конфіденційних даних:**
   - **Визначення:**  
     Змінні середовища дозволяють винести конфігураційні дані, такі як API-ключі, URL-адреси та облікові дані, за межі коду тесту.
   - **Використання у `cypress.config.js`:**
     ```javascript
     env: {
       apiUrl: 'https://api.example.com',
       authToken: 'your-secret-token'
     }
     ```
   - **Чому це важливо:**  
     - Підвищує безпеку, оскільки чутливі значення не зберігаються у коді.
     - Легко змінювати значення без редагування тестових файлів.

2. **Управління різними середовищами (розробка, staging, продакшн):**
   - **Підхід:**  
     - Використовуйте окремі конфігураційні файли або налаштування змінних середовища для кожного оточення.
     - Передавайте змінні середовища через командний рядок під час запуску Cypress.
   - **Приклад:**  
     ```bash
     npx cypress run --env config=staging
     ```
   - **У файлі конфігурації:**  
     Застосовуйте умовну логіку на основі середовищного прапорця, щоб завантажувати різні змінні.
     ```javascript
     const config = process.env.CONFIG || 'development';

     module.exports = defineConfig({
       e2e: {
         baseUrl: config === 'production' ? 'https://prod.example.com' : 'http://localhost:3000',
         // Інші налаштування...
       },
       env: {
         apiUrl: config === 'production' ? 'https://api.prod.example.com' : 'https://api.dev.example.com'
       }
     });
     ```
   - #### **Кращий підхід до доступу до даних і конфігурації для різних оточень**
      у папці cypress/config є окремі файли для кожного середовища:
        - cypress.test2.json
        - cypress.production.json
      у папці cypress/fixtures — окремі тестові дані для кожного середовища:
        - data.test2.json
        - data.production.json
      ```javascript 
        import { defineConfig } from 'cypress'
        import { rmdir, readFileSync } from 'fs'

        export default defineConfig({
          e2e: {
            setupNodeEvents(on, config) {

              const envName = config.env.name;
              const envconfig = readFileSync(`./cypress/config/cypress.${envName}.json`, 'utf-8');
              const configValues = JSON.parse(envconfig);

              const envdata = readFileSync(`./cypress/fixtures/data.${envName}.json`, 'utf-8');
              const dataValues = JSON.parse(envdata);

              config.env = { ...configValues, ...dataValues };
              return config;
            },
          },
        })
        ```
        ```json
        {
          "scripts": {
            "open:test2": "npx cypress open --env name=test2",
            "test:test2": "npx cypress run --browser chrome --env name=test2",
            "test:test2:record": "npx cypress run --browser chrome --env name=test2 --record",
            "test:test2:ci": "pnpm test:test2:record",
            "open:production": "npx cypress open --env name=production",
            "test:production": "npx cypress run --browser chrome --env name=production",
            "test:production:record": "npx cypress run --browser chrome --env name=production --record",
            "test:production:ci": "pnpm test:production:record"
          },
        }
        ```

3. **Доступ до змінних середовища у тестах:**
   - Використовуйте метод `Cypress.env()` для доступу до заданих у конфігурації значень.
   - **Приклад:**
     ```javascript
     describe('API Tests', () => {
       it('should fetch data from the API', () => {
         const apiUrl = Cypress.env('apiUrl');
         cy.request(`${apiUrl}/users`).then((response) => {
           expect(response.status).to.eq(200);
         });
       });
     });
     ```

#### **Використання `setupNodeEvents` у конфігурації Cypress (`cypress.config.js`)**

##### **Що таке `setupNodeEvents`?**
- **Визначення:**  
  Функція `setupNodeEvents` у `cypress.config.js` дозволяє реєструвати обробники подій, розширювати поведінку Cypress або виконувати завдання, що потребують Node.js.
- **Мета:**  
  - Розширити поведінку Cypress під час виконання тестів.
  - Виконувати файлові операції, роботу з базами даних, API-запити або зовнішнє логування.
  - Визначати **кастомні таски Cypress** для взаємодії між тестовим кодом (в браузері) та Node.js (на бекенді).

---

##### **Приклад: `setupNodeEvents` з кастомним таском логування**

У цьому прикладі визначено таск, який виводить повідомлення у консоль під час виконання тестів.

###### **cypress.config.js**
```javascript
const { defineConfig } = require('cypress');

module.exports = defineConfig({
  e2e: {
    baseUrl: 'http://localhost:3000',
    viewportWidth: 1280,
    viewportHeight: 720,
    defaultCommandTimeout: 8000,

    setupNodeEvents(on, config) {
      // Додаємо індивідуальний таск для логування повідомлень із браузера у термінал
      on('task', {
        logMessage(message) {
          console.log('LOG FROM CYPRESS:', message);
          return null; // Таски повинні повертати значення або null
        }
      });

      return config; // Важливо повернути config
    }
  }
});
```

###### **Використання у тесті (логування у термінал)**
```javascript
describe('Logging Example', () => {
  it('should log a message from Cypress to the terminal', () => {
    cy.task('logMessage', 'This is a custom log from Cypress');
  });
});
```

**Очікуваний вивід у терміналі:**
```
LOG FROM CYPRESS: This is a custom log from Cypress
```

---

#### **Що таке `on('task')` у Cypress**

##### **Що таке `on('task')`?**
- Функція `on('task', { ... })` у `setupNodeEvents` дозволяє Cypress **виконувати Node.js-код** із тесту.
- Таски можуть виконувати:
  - **Файлові операції** (читання/запис файлів).
  - **Запити до бази даних** (наприклад, MongoDB, PostgreSQL).
  - **API-взаємодію** (запити до сторонніх API).
  - **Логування** (виведення у термінал).

#### **Практичні приклади використання `on('task')`**

##### **1. Запис у файл**
Можливо знадобиться записати результати чи логи у файл.

##### **cypress.config.js**
```javascript
const fs = require('fs');

module.exports = defineConfig({
  e2e: {
    setupNodeEvents(on, config) {
      on('task', {
        writeFile({ filename, content }) {
          fs.writeFileSync(filename, content);
          return null;
        }
      });

      return config;
    }
  }
});
```

##### **Використання в тесті**
```javascript
describe('Write File Example', () => {
  it('should write test data to a file', () => {
    cy.task('writeFile', {
      filename: 'cypress/logs/test-output.txt',
      content: 'Test executed successfully at ' + new Date()
    });
  });
});
```

##### **2. Читання з файлу**
Якщо потрібно перевірити вміст файлу.

##### **cypress.config.js**
```javascript
module.exports = defineConfig({
  e2e: {
    setupNodeEvents(on, config) {
      on('task', {
        readFile({ filename }) {
          return fs.readFileSync(filename, 'utf8');
        }
      });

      return config;
    }
  }
});
```

##### **Використання в тесті**
```javascript
describe('Read File Example', () => {
  it('should read content from a file', () => {
    cy.task('readFile', { filename: 'cypress/logs/test-output.txt' }).then((content) => {
      expect(content).to.contain('Test executed successfully');
    });
  });
});
```

---

##### **3. Генерація випадкових даних через Faker.js**
Для генерації випадкових тестових даних для реєстрації користувача.

##### **cypress.config.js**
```javascript
const { faker } = require('@faker-js/faker');

module.exports = defineConfig({
  e2e: {
    setupNodeEvents(on, config) {
      on('task', {
        generateRandomUser() {
          return {
            username: faker.internet.userName(),
            email: faker.internet.email(),
            password: faker.internet.password()
          };
        }
      });

      return config;
    }
  }
});
```

##### **Використання в тесті**
```javascript
describe('User Registration with Faker.js', () => {
  it('should create a new user with random data', () => {
    cy.task('generateRandomUser').then((user) => {
      cy.log(`Generated User: ${user.username}, ${user.email}`);
    });
  });
});
```

#### **Експериментальні параметри Cypress у `cypress.config.js`**

У Cypress є декілька експериментальних можливостей, які можна вмикати у конфігурації.

##### **Поширені експериментальні функції**
1. **`experimentalSessionAndOrigin`** (Відстеження сесій користувача між тестами)
2. **`experimentalModifyObstructiveThirdPartyCode`** (Обробка сторонніх скриптів, що можуть заважати тестам)
3. **`experimentalWebKitSupport`** (Тестування у браузері WebKit)
4. **`experimentalStudio`** (Автоматичний запис та генерація тест-коду)

##### **Приклад конфігурації з експериментальними можливостями**
```javascript
module.exports = defineConfig({
  e2e: {
    baseUrl: 'http://localhost:3000',
    experimentalSessionAndOrigin: true, // Відстеження сесій між тестами
    experimentalModifyObstructiveThirdPartyCode: true, // Уникнення проблем зі сторонніми скриптами
    experimentalWebKitSupport: true, // Тестування у WebKit
    experimentalStudio: true, // Cypress Studio для запису тестів

    setupNodeEvents(on, config) {
      on('task', {
        logMessage(message) {
          console.log('LOG:', message);
          return null;
        }
      });

      return config;
    }
  }
});
```

---

#### **C. Найкращі практики для конфігурації та змінних середовища**

1. **Упорядкування та безпека конфігурації:**
   - **Централізація:**  
     Зберігайте всі глобальні налаштування в одному місці (`cypress.config.js`) для спрощення підтримки.
   - **Відокремлення чутливих даних:**  
     Зберігайте чутливі дані (наприклад, API-ключі) у змінних середовища, а не безпосередньо у тестових файлах.
   - **Контроль версій:**  
     Слідкуйте за тим, щоб конфігураційні файли були під контролем версій, а секретні значення передавалися через окремі механізми (наприклад, секрети CI/CD).

2. **Уникнення жорстко закодованих значень:**
   - **Використовуйте змінні середовища:**  
     Замість жорстко прописаних URL-адрес, токенів та констант використовуйте змінні середовища.
   - **Повторне використання змінних:**  
     Використовуйте змінні в конфіг-файлі так, щоб зміни потрібно було робити лише в одному місці.
   - **Приклад:**
     ```javascript
     // Жорстко закодований підхід:
     cy.visit('http://localhost:3000/login');

     // Замість цього використовуйте:
     cy.visit('/');
     // Де baseUrl визначено у файлі конфігурації.
     ```

3. **Документація та коментарі:**
   - Чітко документуйте налаштування конфігурації та змінні середовища, щоб команді було зрозуміло їх призначення.
   - Підтримуйте зрозумілі коментарі в `cypress.config.js` з поясненнями кожного налаштування.

---

### **D. Практична частина**

1. **Налаштування Cypress через cypress.config.js:**
   - **Діяльність:**  
     Покрокове налаштування базового файлу `cypress.config.js`.
   - **Завдання:**  
     Налаштувати `baseUrl`, viewport, таймаути. Змінити значення і подивитись, як вони впливають на поведінку тестів.

2. **Впровадження змінних середовища:**
   - **Діяльність:**  
     Додати змінні середовища у файл конфігурації для різних середовищ (development, staging, production).
   - **Завдання:**  
     Реалізувати умовну логіку, щоб переключати `baseUrl` і `apiUrl` залежно від прапорця середовища. Запустити тести у різних режимах і перевірити правильність застосування налаштувань.

3. **Доступ до змінних середовища у тестах:**
   - **Діяльність:**  
     Написати простий Cypress-тест, який отримує дані з API, використовуючи змінну середовища для URL.
   - **Завдання:**  
     Використати `Cypress.env('apiUrl')` у тесті та залогувати або перевірити відповідь.

4. **Симульоване перемикання середовищ:**
   - **Діяльність:**  
     Показати, як запускати тести з різними конфігураціями через командний рядок.
   - **Завдання:**  
     Використати команду типу `npx cypress run --env config=production` і показати, як тести поводяться інакше у різних середовищах.

---

### **E. Функціонал Cypress-команд та конфігурація**

- **Використання Cypress-команд:**  
  Обговоріть, як Cypress-команди (наприклад, `cy.visit()`, `cy.get()`) автоматично використовують налаштування з `cypress.config.js`. Наприклад, `cy.visit('/')` використовуватиме значення `baseUrl`, визначене у вашій конфігурації.
- **Інтеграція кастомних команд:**  
  Коротко згадайте, як можна створювати власні команди, що також використовують змінні середовища та налаштування, щоб тести були гнучкими й легкими для підтримки.

---

### **F. Обговорення і Q&A**

**Можливі запитання студентів:**

1. **Q:** *Що робити, якщо потрібно часто змінювати base URL?*  
   **A:** Використовуйте налаштування `baseUrl` у вашому файлі `cypress.config.js`. Це централізує встановлення URL, тому достатньо змінити його в одному місці, і всі тести, які використовують `cy.visit('/')`, автоматично використовуватимуть нову адресу.

2. **Q:** *Як управляти конфіденційними даними типу API-ключів без їх хардкодингу?*  
   **A:** Зберігайте конфіденційну інформацію як змінні середовища у конфігураційному файлі або зовнішньому джерелі (наприклад, секрети CI/CD). Доступ до них у тестах здійснюється через `Cypress.env()`.

3. **Q:** *Чи можна використовувати різні налаштування для різних запусків тестів?*  
   **A:** Так, можна передавати змінні середовища через командний рядок (наприклад, `npx cypress run --env config=staging`) або застосувати умовну логіку у файлі конфігурації для завантаження різних налаштувань залежно від середовища.

4. **Q:** *Чому важливо зберігати файли конфігурації під контролем версій?*  
   **A:** Це допомагає підтримувати узгодженість у команді, відслідковувати зміни і бути впевненим, що всі використовують однакові налаштування для тестів.

5. **Q:** *Як впевнитися, що змінні середовища підхоплені у тестах?*  
   **A:** Ви можете залогувати їх у тесті за допомогою `cy.log(Cypress.env('apiUrl'))` або перевірити значення через асерт. Так ви переконаєтеся, що конфігурація завантажена вірно.

6. **Q:** *Навіщо потрібен `setupNodeEvents` у Cypress?*  
    **A:** `setupNodeEvents` потрібен для розширення можливостей Cypress. Він дозволяє реєструвати обробники подій, визначати кастомні таски та змінювати поведінку під час виконання тестів.

7. **Q:** *Як функція `on('task')` покращує тестування?*  
   **A:** Вона дозволяє зв’язувати Cypress (у браузері) і Node.js (на бекенді), що зручно для логування, файлових операцій, API-запитів і генерації динамічних тестових даних.

8. **Q:** *Як використовувати змінні середовища в `setupNodeEvents`?*  
   **A:** Доступ до змінних середовища у конфігураційному файлі через `process.env`, потім передати їх у `Cypress.env()`.

9. **Q:** *Що буде, якщо таск нічого не поверне?* 
   **A:** Cypress вимагає, щоб таск повертав значення або явний `null`.

10. **Q:** *Чи стабільні експериментальні можливості у Cypress?*  
    **A:** Не завжди. Вони ще розробляються і можуть змінюватися. Перед використанням у production-запусках завжди перевіряйте документацію Cypress.

1. **Q:** *Навіщо прив’язувати `baseUrl`?*  
   **A:** Це дозволяє використовувати відносні шляхи у тестах (наприклад, `cy.visit('/login')`) замість хардкодингу повних адрес. Завдяки цьому тести легші у підтримці та більш гнучкі для різних оточень.

2. **Q:** *Яка роль секції `"env": {}`?*  
   **A:** Вона зберігає змінні середовища для доступу в тестах через `Cypress.env()`. Це дозволяє винести конфіденційні дані та параметри, які різняться у різних середовищах, наприклад, API endpoints чи логін-паролі.

3. **Q:** *Як властивість `numTestsKeptInMemory` допомагає у налагодженні?*  
   **A:** Вона обмежує кількість знімків тестів у пам’яті, що дозволяє використовувати покрокове налагодження в Cypress без надмірного споживання ресурсів.

4. **Q:** *За що відповідає `watchForFileChanges`?*  
   **A:** Вказує Cypress автоматично перезапускати тести при зміні файлів проекту, що корисно для розробки. У CI зазвичай вимикається (`false`), щоб уникнути зайвого повторного виконання тестів.

5. **Q:** *Навіщо використовувати властивість `retries`?*  
   **A:** Вона допомагає боротися з нестабільними тестами, повторно їх виконуючи вказану кількість разів перед остаточним провалом, зменшуючи кількість хибних негативів через тимчасові помилки.

6. **Q:** *Що таке експериментальні властивості у Cypress, наприклад, `experimentalSessionAndOrigin`?*  
   **A:** Це нові розробки Cypress. Вони можуть покращити роботу з сесіями чи змінити поведінку з третіх сторін, але ще можуть бути нестабільними.

7. **Q:** *Яка роль `setupNodeEvents` і функції `on('task')`?*  
   **A:** `setupNodeEvents` дозволяє реєструвати Node.js-обробники для розширення можливостей Cypress, а функція `on('task')` дозволяє виконувати із тестів Node.js-код (наприклад, логування або роботу з файлами), чого не можна зробити безпосередньо у браузері.

---

### **Додаткові ресурси**

- **Посібник з конфігурації Cypress:**  
  [Cypress Configuration Documentation](https://docs.cypress.io/guides/references/configuration)
- **Приклади використання змінних середовища:**  
  Шукайте приклади та туторіали для Cypress з використанням змінних середовища на GitHub та офіційному блозі Cypress.
